# Chemija.org Development Plan

## Stack

- Astro (version 5+, remember to use `---` to start and end Astro blocks)
- Sanity Studio via GROQ API
- TailwindCSS (version 4 is used, css enabled in `astro-app/src/assets/app.css`)
- DaisyUI (always prefer daisyui classes over tailwind for built-in dark mode)

## Project Overview

- Website name: chemija.org
- Platform: Static Site generated by Astro with Sanity CMS
- Language: Lithuanian

## Site Structure

1. Home Page

    - Latest articles section
    - Latest chemistry exams section
    - Navigation menu

2. Articles Page

    - Index with pagination
    - Article cards with:
        - Title
        - Excerpt
        - View count
        - Category hashtag
    - Static rendering

3. Article Detail Page

    - Rich content rendering

4. Exams Page ("Egzaminai")

    - Table layout with 5 columns
    - Each row contains exam PDFs (questions and answers)
    - Download functionality

5. Calculator Page
    - Chemistry calculation tools (to be specified later)

## Next Steps

1. [x] Create Sanity schemas for:
    - [x] Enhanced Article (based on Post)
    - [x] Exam
2. [x] Setup utility functions to fetch content from Sanity
    - [x] Update existing sanity.ts with new content types
3. [x] Create navigation menu component
4. [x] Implement home page layout

5. [ ] Implement API route for updating view counts

6. [ ] Add metadata for SEO optimization

7. [ ] Setup proper error pages (404, 500)

## Technical Considerations

- Static site generation for optimal performance
- Schema design for Sanity CMS
- PDF handling for exam files
- Rich content rendering

## Development Notes

- Calculator Components Refactor (March 29, 2024):
    - Calculator components in `astro-app/src/components/math/` using React 19 (`.jsx`).
    - Components are used on the `/skaiciuotuvas` page.
    - Requires the `@astrojs/react` integration.

## URL Structure for articles

- Article detail pages are served directly from the root path (`/{slug}`) for optimal SEO
- Article index is available at `/straipsniai`
- Legacy `/straipsniai/{slug}` URLs automatically redirect to the root-level article paths with a 301 redirect
- This structure ensures clean URLs and maintains SEO value from existing links

## Important guidelines

Please use import aliases when working inside `astro-app` directory.

The `@/` alias points to the `src` folder of the astro project `"@/*": ["./src/*"],`.
