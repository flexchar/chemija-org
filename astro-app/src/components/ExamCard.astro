---
import type { LatestExamsQueryResult } from '@/types/sanity.types';

interface Props {
    exam: NonNullable<LatestExamsQueryResult>[number];
}

const { exam } = Astro.props;

// Accent color for exams (amber for exam entries)
const accentColor = '#F59E0B';
---

<div
    class="bg-white border border-neutral-200 hover:border-neutral-400 transition-all duration-150 p-6 group"
    style={`border-left: 4px solid ${accentColor}; border-radius: 4px;`}
>
    <h3
        class="text-base font-medium tracking-wide uppercase mb-4"
        style="font-family: 'IBM Plex Mono', monospace; letter-spacing: 0.02em;"
    >
        <span class="text-neutral-900">{exam.level}</span>
        <span class="text-neutral-400 mx-2">•</span>
        <span class="text-neutral-900"
            >{
                exam.year
                    ? new Date(exam.year).getFullYear()
                    : '[missing year]'
            }</span
        >
        <span class="text-neutral-400 mx-2">•</span>
        <span class="text-neutral-900">{exam.session}</span>
    </h3>

    <div class="flex gap-3">
        {
            exam.questions_url && (
                <a
                    href={exam.questions_url}
                    class="inline-flex items-center gap-2 bg-white text-black border border-black px-4 py-2 text-xs font-medium tracking-wider uppercase transition-colors hover:bg-black hover:text-white"
                    style="font-family: 'IBM Plex Mono', monospace; letter-spacing: 0.05em; border-radius: 4px;"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    UŽDUOTYS
                </a>
            )
        }

        {
            exam.answers_url && (
                <a
                    href={exam.answers_url}
                    class="inline-flex items-center gap-2 bg-white text-black border border-black px-4 py-2 text-xs font-medium tracking-wider uppercase transition-colors hover:bg-black hover:text-white"
                    style="font-family: 'IBM Plex Mono', monospace; letter-spacing: 0.05em; border-radius: 4px;"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    ATSAKYMAI
                </a>
            )
        }
    </div>
</div>
